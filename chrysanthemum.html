<!DOCTYPE html>
<html>
<body>
<script type="text/javascript" src="js/phaser.min.js"></script>
<script>
    var game = new Phaser.Game(800, 640, Phaser.CANVAS, '', {preload:preload, create:create, update:update});
    var ix = 0;
    var N = 3000;
    var x = 4;
    var y = 3;
    var graphics;

    var colors = ['0xf87373', '0xfc9ece', '0x12bbf0', '0xd4ac0d', '0xb177e2', '0xfa6607', '0xaadddd', '0x42b48e'];
    function preload() {

    }

    function create() {
        game.physics.startSystem(Phaser.Physics.Arcade);
        graphics = game.add.graphics(0, 0);

    }

    function update() {

        ix = ix + 1;

        if (ix < N) {
            var u = ix * 21.0 * Math.PI / N;
            var p4 = Math.sin(17 * u / 3);
            var p8 = Math.sin(2 * Math.cos(3 * u) - 28 * u);
            var r = 5 * (1 + Math.sin(11 * u / 5)) - 4 * p4 * p4 * p4 * p4 * p8 * p8 * p8 * p8 * p8 * p8 * p8 * p8;



            if (ix > 1) {
                graphics.lineStyle(1, colors[2], 1);
//                graphics.beginFill(colors[2], 0.5);
                graphics.moveTo(400 + x * 20, 320 + y * 20);
            }

            x = r * Math.cos(u);
            y = r * Math.sin(u);

            if (ix > 1) {
                graphics.lineTo(400 + x * 20, 320 + y * 20);
//                graphics.endFill();
            }
        } else {
            game.destroy()
        }
//        graphics.beginFill(colors[Math.floor((Math.random() * 8))]);
//        graphics.beginFill(colors[1]);
//        graphics.lineWidth = 10;
//        graphics.moveTo(x * 1000, y * 1000);
//
//
//        x = r * Math.cos(u);
//        y = r * Math.sin(u);
////        window.alert(x);
//        graphics.lineTo(x * 1000, y * 1000);
//        graphics.endFill();

    }

</script>


</body>
</html>